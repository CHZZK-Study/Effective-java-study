# Item 20. 추상 클래스보다는 인터페이스를 우선하라

## 추상 클래스와 인터페이스
자바 8부터 인터페이스에 디폴트 메서드를 제공하기 때문에, 두 방식 모두 인스턴스 메서드를 제공할 수 있다.

차이라면 추상 클래스는 좀 더 상세한 구현과 필드를 가질 수 있고, 인터페이스와 달리 다중상속은 불가능 하다는 점이다.


비슷한 역할이지만, 인터페이스는 추상 클래스에 비해 다양한 장점이 있다.
1. 기존 클래스에 손쉽게 새로운 인터페이스를 구현해넣을 수 있다. 
   * `Comparable`, `Iterable`, `AutoCloseable` 인터페이스가 새롭게 추가 되었을 때 표준 라이브러리의 기존 클래스가 이 인터페이스를 구현한 채로 릴리즈 됐다.
2. 인터페이스는 mixin 정의에 안성맞춤이다.
   * 혼합이라는 뜻을 가지고 있는 믹스인은, 믹스인을 구현할 클래스에 원래의 ‘주 타입’ 외에 특정 선택적 행위를 제공한다고 선언하는 효과를 줄 수 있다.
3. 계층구조 없는 타입 프레임워크를 만들 수 있다.
   * 물론 계층이 적절한 개념도 존재하지만, 현실에는 계층을 엄격히 구분하기 어려운 개념도 있다. 아래의 `Singer`, `Songwriter` 인터페이스를 생각해보자.
```java
public interface Singer {
    AudioClip sing(Song s);
}

public interface Songwriter {
    Song compose(int chartPosition);
}
```
현실에는 싱어송라이터도 있으므로, 해당 개념을 구현하려면 다음처럼 새로운 계층을 만들면 된다.
```java
public interface SingerSongwriter extends Singer, Songwriter {
	AudioClip strum();
	void actSensitive();
}
```
위의 세 사례 모두 추상클래스에선 구현하기 어렵다.

## 디폴트 메서드
인터페이스의 메서드 중 구현 방법이 명백한 것이 있다면, 그 구현을 디폴트 메서드로 제공할 수 있다. 

디폴트 메서드는 상속하려는 사람을 위해 `@implSpec` 자바독 태그를 활용하면 좋다.
단, 인스턴스 필드를 활용할 수 없고, `private` 가 아닌 정적 멤버는 가질 수 없다는 한계가 있다.

## 추상 골격 구현 클래스
디폴트 메서드가 가지고 있는 단점을 극복하기 위해,
**인터페이스와 추상 골격 구현 클래스를 함께 제공**하는 방식으로 인터페이스와 추상 클래스의 장점을 모두 취할 수 있다.
인터페이스로는 타입을 정의하고, 골격 구현 클래스는 나머지 메서드를 구현한다. 
이렇게 해두면 골격 구현 클래스를 확장하는 것 만으로 인터페이스를 구현하는 데 필요한 일이 대부분 완료된다. 
이를 **템플릿 메서드 패턴** 이라 부른다.

