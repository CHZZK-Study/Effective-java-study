## item 20. 추상 클래스보다는 인터페이스를 우선하라

---

### 1. 추상 클래스보다 인터페이스를 사용해야 하는 이유

Java에서 제공하는 다중 구현 메커니즘은 `abstract class`와 `interface`가 있다.  
사용자는 둘 중 하나를 선택하여 상속 및 구현이 가능하며, Java 8에서부터는 `default method`를 지원하여 두 방법 모두 메서드를 구현 형태로 제공할 수 있게 되었다.

그렇다면 `추상 클래스`와 `인터페이스` 둘의 차이는 무엇일까?  
Java에서는 단일 상속을 지원하기 때문에, `추상 클래스` 방법을 사용하는 클래스는 반드시 추상 클래스의 하위 클래스가 되어야 한다.  

반면, 인터페이스의 경우 선언한 메서드를 모두 정의하고 규약을 지켰다면, 다른 클래스를 상속했더라도 모두 같은 타입으로 취급된다.

기존 클래스에도 손쉽게 새로운 인터페이스를 구현해 넣을 수 있을 뿐더러, 단일 상속만 허용하는 Java에서는 interface를 사용하는 것이 더 유연한 설계가 가능하다.

---

### 2. `interface`는 계층 구조가 없는 타입 프레임워크를 만들 수 있다

타입을 계층적으로 정의하면, 많은 개념을 구조적으로 잘 표현할 수 있지만, 현실 세계에서는 계층으로 구분하기 어려운 개념도 있다.  

예를 들어 `Singer interface`(가수)와 `Songwriter interface`(작곡가)가 있다고 가정해보자.  
```java
public interface Singer {
    AudioClip sing(Song s);
}
```
```java
public interface Songwriter {
    Song compose(int chartPosition);
}
```
현실 세계에서는 작곡도 하는 가수(싱어송라이터)들도 꽤 많다.  
이런 경우에 인터페이스를 사용하면 `Singer interface`와 `Songwriter interface`를 모두 `implements` 하여 표현할 수 있다.  
심지어 두 인터페이스를 확장한 새로운 인터페이스로 작성할 수 있다.
```java
public interface SingerSongwriter extends Singer, Songwriter {
    AudioClip strum();
    void actSensitive();
}
```
이후의 확장성/유연성을 고려했을 때에는 이러한 설계 방식이 많은 도움이 될 것이다.


---

### 3. `interface`와 `Wrapper class`와 함께 사용

`wrapper class`와 `interface`를 함께 사용하면, 인터페이스는 기능을 향상시키는 안전하고 강력한 수단이 된다.  
타입을 추상 클래스로 정의해두면, 해당 타입에 기능을 추가/확장하는 방법은 상속 뿐이다.  
상속을 통해 확장한 클래스는 `wrapper class`를 사용하는 방법에 비해 활용도가 떨어지고, 깨지기 더 쉽다.  

자세한 부분은 [item 18 상속보다는 컴포지션을 사용하라]를 참고하자.

---

### 4. `interface`와 `skeletal implementation`(추상 골격 구현) 클래스를 함께 제공

이 방법은 인터페이스와 추상 클래스의 장점을 모두 취하는 방법이다.  
인터페이스로는 타입을 정의하며 필요에 따라 default method도 함께 제공하고,`skeletal implementation class`는 나머지 메서드들을 구현한다.  
이 방식을 사용하면 이후에 골격 구현을 확장하는 것만으로도 인터페이스를 구현하는데 필요한 일을 완료할 수 있다.

뭔가 익숙하지 않은가?  `템플릿 메서드 패턴`이다.





